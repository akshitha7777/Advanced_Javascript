<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>JQuery Assignment</title>
</head>
<body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script>
      const geData = async () => {
      const request = await fetch("https://think.cs.vt.edu/corgis/datasets/json/airlines/airlines.json");
      const data = await request.json();
      return data;
    };
    geData().then(result => {
      document.write("<div class='container'><table class='table' cellpadding='5px;' border-collapse = 'collapse;'></thead><tr style='background-color:pink;'> <th>Sno.</th> <th scope='col'> Cancelled </th>  <th scope='col'> Delayed </th>  <th scope='col'>Diverted</th> <th scope='col'>On Time</th> <th scope='col'>Cancelled + Diverted + On Time</th> <th scope='col'>Actual Total</th></tr></thead>");
        for(let i=0; i<result.length; i++){
            var total = result[i].Statistics.Flights.Cancelled + result[i].Statistics.Flights.Delayed + result[i].Statistics.Flights.Diverted + result[i].Statistics.Flights['On Time']
             if (total == result[i].Statistics.Flights.Total){
               document.write("<tr class='design'> <td scope='row'>"+ (i+1)  +"</td> <td scope='row'>"+ result[i].Statistics.Flights.Cancelled  +"</td> <td scope='row'>" +  result[i].Statistics.Flights.Delayed +"</td> <td scope='row'>"+ result[i].Statistics.Flights.Diverted + "</td> <td scope='row'>"+ result[i].Statistics.Flights['On Time'] + "</td> <td scope='row'>"+ total + "</td> <td scope='row'>"+ result[i].Statistics.Flights.Total + "</td></tr>");
             }else{
              document.write("<tr class='design'> <td scope='row'>"+ (i+1)  +"</td> <td scope='row'>"+ result[i].Statistics.Flights.Cancelled  +"</td> <td scope='row'>" +  result[i].Statistics.Flights.Delayed +"</td> <td scope='row'>"+ result[i].Statistics.Flights.Diverted + "</td> <td scope='row'>"+ result[i].Statistics.Flights['On Time'] + "</td> <td scope='row'>"+ total + "</td> <td scope='row'>"+ result[i].Statistics.Flights.Total + "</td></tr>");
             }
        }
        document.write("</table></div>")
        }).catch((error)=>{
        document.write("Cannot be displayed");
    });
  </script>
</body>
</html>